<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		.danger{
			color: red;
		}
		.strong{
			font-weight:bolder;
			font-size:30px;
		}
	</style>
</head>
<body>
	<p class="danger strong">欢迎来到不凡学院</p>
	<p id="p2">欢迎来到不凡学院</p>
	<button class="btn1">添加danger</button>
	<button class="btn2">添加strong</button>
	<button class="btn3">删除danger</button>
	<script>
		var pEl = document.getElementById('p2');
		var btn1 = document.getElementsByClassName('btn1')[0];
		var btn2 = document.getElementsByClassName('btn2')[0];
		var btn3 = document.getElementsByClassName('btn3')[0];
		//给p标签添加danger样式
		btn1.onclick = function(){
			addClass(pEl,'danger');
		}

		btn2.onclick = function(){
			addClass(pEl,'strong');
		}
		btn3.onclick = function(){
			delClass(pEl,'danger');
		}

		/**
		* 动态添加class
		**/
		function addClass(el,className){
			var oldClassStr = '';
			// 先判断有没有class,没有直接跳转到下一步
			if (el.getAttribute('class')) {
				oldClassStr.getAttribute('class');
				var oldClassArr = oldClassStr.split(' ');
				if (oldClassArr.indexOf(className)!=-1) {
					return;
				}else {
					oldClassArr += ' ';
				}

			}
			// 下一步
			oldClassStr += className;
			el.setAttribute('class', oldClassStr);

		}

		function delClass(el,className){
			// 1.判断有没有class属性
			if(!el.getAttribute('class')){
				return ;
			}
			// 没学过: 'danger strong active' ==> 'danger active';
			var oldClassStr = el.getAttribute('class');
			//可以实现 ['danger','strong','active'] ==> ['danger','active'];
			var oldClassArr = oldClassStr.split(' ');
			//获取字符串在数组中对应的下标
			var index = oldClassArr.indexOf(className);
			//如果!=-1 说明存在 才可以执行删除
			if(index!=-1){
				//执行删除
				oldClassArr.splice(index,1); //['danger','active'];
			}
			//数组变字符串 重新赋值['danger','active'] ==> 'danger active';
			oldClassStr = oldClassArr.join(' '); // 
			el.setAttribute('class',oldClassStr);
		}


	</script>
</body>
</html>